"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e;function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=function(e,n){return(e%n+n)%n};if("production"!==process.env.NODE_ENV){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&!self.crypto)throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs, you can use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if("undefined"!=typeof self&&self.msCrypto&&!self.crypto)throw new Error("Add self.crypto = self.msCrypto before Nano ID to fix IE 11 support");if("undefined"==typeof self||!self.crypto)throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.")}var p=function(e){return"".concat(e).concat(((e=21)=>{let n="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n})(5))};var u={wrapper:"style_wrapper__22ube",listbox:"style_listbox__3i3dw",option:"style_option__2lqQO",button:"style_button__1u04R",label:"style_label__3AkGW",hidden:"style_hidden__1AZ7T",nowrap:"style_nowrap__2P5ZP",wrap:"style_wrap__2Ce6s",green:"style_green__35Sx3",blue:"style_blue__3BC7U",orange:"style_orange__3qZGa",red:"style_red__1bgJd",gray:"style_gray__3mOhC"};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('/* CSS variables. IE11 support through PostCSS. */\n\n/* Main component wrapper */\n.style_wrapper__22ube {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  position: relative;\n  margin: 8px 0;\n}\n\n/* Components */\n.style_listbox__3i3dw {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  list-style: none;\n  border: 1px solid #aaa;\n  border-radius: 4px;\n  padding: 0px;\n  margin: 0;\n  margin-top: 1px;\n  position: absolute;\n  top: 100%;\n  max-width: 100%;\n  min-width: 240px;\n  z-index: 1000;\n}\n\n.style_option__2lqQO {\n  background-color: #fff;\n  position: relative;\n  text-align: left;\n}\n\n.style_option__2lqQO:first-child {\n  border-radius: 4px 4px 0px 0px;\n}\n\n.style_option__2lqQO:last-child {\n  border-radius: 0px 0px 4px 4px;\n}\n\n.style_option__2lqQO:hover,\n.style_option__2lqQO:focus {\n  background-color: #eee;\n  cursor: pointer;\n  outline: 0;\n}\n\n.style_option__2lqQO,\n.style_button__1u04R {\n  padding: 10px 42px 8px 42px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.style_button__1u04R {\n  border: 1px solid #aaa;\n  border-radius: 4px;\n  background-color: #fff;\n  position: relative;\n  text-align: left;\n  max-width: 240px;\n}\n\n.style_option__2lqQO::before,\n.style_button__1u04R::before {\n  width: 16px;\n  height: 16px;\n  background-color: #aaa;\n  content: " ";\n  position: absolute;\n  left: 12px;\n  top: 10px;\n  border-radius: 50%;\n}\n\n.style_button__1u04R::after {\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 8px solid #aaa;\n  content: " ";\n  position: absolute;\n  right: 12px;\n  top: 14px;\n}\n\n.style_button__1u04R:hover {\n  cursor: pointer;\n}\n\n.style_label__3AkGW {\n  margin-bottom: 8px;\n}\n\n/* Helpers */\n.style_hidden__1AZ7T {\n  display: none;\n}\n\n.style_nowrap__2P5ZP {\n  white-space: nowrap;\n}\n\n.style_wrap__2Ce6s {\n  white-space: normal;\n}\n\n/* Adornment colors */\n.style_green__35Sx3::before {\n  background-color: rgba(166, 226, 130, 1) !important;\n}\n\n.style_blue__3BC7U::before {\n  background-color: rgba(14, 156, 219, 1) !important;\n}\n\n.style_orange__3qZGa::before {\n  background-color: rgba(243, 154, 45, 1) !important;\n}\n\n.style_red__1bgJd::before {\n  background-color: rgba(255, 96, 95, 1) !important;\n}\n\n.style_gray__3mOhC::before {\n  background-color: gray !important;\n}\n');var d=function(e){var t=e.children,o=e.color,a=void 0===o?"gray":o,l=e.textWrap,c=void 0!==l&&l,s=i(e,["children","color","textWrap"]);return n.createElement("button",r({"aria-haspopup":"listbox",title:t,className:"".concat(u.button," ").concat(u[a]," ").concat(c?u.wrap:u.nowrap)},s),t)},f=function(e){var t=e.children,o=i(e,["children"]);return n.createElement("span",r({className:u.label},o),t)},b=function(e){var t=e.children,o=e.open,l=(e.activeIndex,e.focusedIndex),c=e.onChange,s=i(e,["children","open","activeIndex","focusedIndex","onChange"]),p=n.Children.map(t,(function(){return n.useRef()}));return n.useEffect((function(){var e=p[l].current;o?e.focus():e.blur()}),[l,o]),n.createElement("ul",r({tabIndex:"-1",role:"listbox",className:"".concat(u.listbox," ").concat(o?"":u.hidden)},s),n.Children.map(t,(function(e,n){return a({},e,{props:a({},e.props,{id:"".concat(s.id,"-option-").concat(n),ref:p[n],handleChange:c})})})))},y={Select:function(e){var t=e.children,r=e.label,o=e.value,a=e.placeholder,i=void 0===a?"Select...":a,c=e.onChange,y=function(){return t.findIndex((function(e){return e.props.value===o}))},_=l(n.useState(y()),2),h=_[0],g=_[1],x=l(n.useState(Math.max(h,0)),2),m=x[0],v=x[1],w=l(n.useState((function(){return p("select-")})),1)[0],O=l(n.useState(!1),2),E=O[0],C=O[1],k=-1===h;n.useEffect((function(){g(y())}),[o]);var S=function(){C(!1)},j=function(e){c(e),S()};return n.createElement("div",{className:u.wrapper,onKeyDown:function(e){E&&["ArrowDown","ArrowUp","Home","End"," ","Enter","Tab","Escape"].includes(e.key)&&e.preventDefault();var n=function(){return v(s(m+1,t.length))},r=function(){return v(s(m-1,t.length))};switch(e.key){case"ArrowDown":n();break;case"ArrowUp":r();break;case"Home":v(0);break;case"End":v(t.length-1);break;case" ":case"Enter":E&&j(t[m].props.value);break;case"Tab":e.shiftKey?r():n();break;case"Escape":S()}},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||C(!1)}},r&&n.createElement(f,{id:"".concat(w,"-label")},r),n.createElement(d,{id:"".concat(w,"-btn"),"aria-labelledby":"".concat(w,"-label ").concat(w,"-btn"),color:k?"gray":t[h].props.color,onClick:function(){C(!E)}},k?i:t[h].props.children),n.createElement(b,{id:"".concat(w,"-list"),"aria-labelledby":"".concat(w,"-label"),"aria-expanded":E,"aria-activedescendant":"".concat(w,"-list-option-").concat(h),open:E,activeIndex:h,focusedIndex:m,onChange:j},t))},Option:function(e){var t=e.children,o=e.value,a=e.color,l=void 0===a?"gray":a,c=e.textWrap,s=void 0!==c&&c,p=e.handleChange,d=i(e,["children","value","color","textWrap","handleChange"]);return n.createElement("li",r({role:"option",tabIndex:"0",title:t,onClick:function(){p(o)},className:"".concat(u.option," ").concat(u[l]," ").concat(s?u.wrap:u.nowrap)},d),t)}};exports.Dropdown=y;
